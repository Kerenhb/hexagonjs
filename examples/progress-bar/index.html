<!DOCTYPE html>
<html>
<head><link rel="stylesheet" href="/hexagonjs/resources/quantum-code-highlight.css"></link><meta name="viewport" content="width=device-width, initial-scale=1"></meta></head>
<body class="qm-body-font"><br></br><h3>Progress bars</h3><div class="docs-example"><div class="docs-example-body"><div id="progressbar-1"></div>
<div id="progressbar-2" class="hx-positive"></div>
<div id="progressbar-3" class="hx-warning"></div>
<div id="progressbar-4" class="hx-negative"></div>
<div id="progressbar-5" class="hx-info"></div>
<div id="progressbar-6" class="hx-contrast"></div>
<div id="progressbar-7" class="hx-compliment"></div>
progressbars = [1..7].map (i) -> new hx.ProgressBar '#progressbar-' + i

hx.select(document).on 'mousemove', (e) ->
  mouseAsUnit = Math.max(0, Math.min(1, (e.clientX/document.documentElement.clientWidth)*2-0.5))
  progressbars.forEach (p, i) -> p.value Math.pow(mouseAsUnit, 1 + i*0.2)

</div><div class="docs-example-code-body"><div class="example-code-section"><h3>HTML</h3><div class="qm-code-highlight-codeblock language-html"><pre><code class="qm-code-font"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-2"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hx-positive"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-3"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hx-warning"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-4"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hx-negative"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-5"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hx-info"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-6"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hx-contrast"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-7"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"hx-compliment"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div></div><div class="example-code-section"><h3>CoffeeScript</h3><div class="qm-code-highlight-codeblock language-coffee"><pre><code class="qm-code-font">
progressbars = [<span class="hljs-number">1.</span><span class="hljs-number">.7</span>].map (i) -&gt; <span class="hljs-keyword">new</span> hx.ProgressBar <span class="hljs-string">'#progressbar-'</span> + i

hx.select(<span class="hljs-built_in">document</span>).<span class="hljs-literal">on</span> <span class="hljs-string">'mousemove'</span>, <span class="hljs-function"><span class="hljs-params">(e)</span> -&gt;</span>
  mouseAsUnit = Math.max(<span class="hljs-number">0</span>, Math.min(<span class="hljs-number">1</span>, (e.clientX/<span class="hljs-built_in">document</span>.documentElement.clientWidth)*<span class="hljs-number">2</span><span class="hljs-number">-0.5</span>))
  progressbars.forEach (p, i) -&gt; p.value Math.pow(mouseAsUnit, <span class="hljs-number">1</span> + i*<span class="hljs-number">0.2</span>)

</code></pre></div></div></div></div><br></br><h3>Multi segment progress bars</h3><div class="docs-example"><div class="docs-example-body"><h3>Percentage Value Based</h3>
<div id="progressbar-multi-1"></div>
<br>
<div id="progressbar-multi-2"></div>
<br>
<h3>Ratio Based</h3>
<div id="progressbar-multi-3"></div>
<br>
<div id="progressbar-multi-4"></div>
<br>
<h3>Dynamic Segment Size</h3>
<div id="progressbar-multi-5"></div>
# Segments will be sorted by value
percentageSegments = [
  {
    "class": 'hx-positive'
    "value": 0.2
  }
  {
    "class": 'hx-warning'
    "value": 0.3
  }
  {
    "class": 'hx-negative'
    "value": 0.7
  }
  {
    "class": 'hx-info'
    "value": 1
  }
  {
    "class": 'hx-action'
    "value": 0.1
  }
]


# Ratio value defaults to 1. Segments are not sorted.
ratioSegments = [
  {
    "class": 'hx-action'
    "ratio": 1
  }
  {
    "class": 'hx-positive'
  }
  {
    "class": 'hx-warning'
  }
  {
    "class": 'hx-negative'
  }
  {
    "class": 'hx-info'
    "ratio": 4
  }
]

progressbar1 = new hx.ProgressBar '#progressbar-multi-1', {segments: percentageSegments, value: 1}
progressbar2 = new hx.ProgressBar '#progressbar-multi-2', {segments: percentageSegments, animate: true}

progressbar3 = new hx.ProgressBar '#progressbar-multi-3', {segments: ratioSegments, value: 1}
progressbar4 = new hx.ProgressBar '#progressbar-multi-4', {segments: ratioSegments}

progressbar5 = new hx.ProgressBar '#progressbar-multi-5', {value: 1}
progressbar5.value(1) # Set to 1 as the max bar size determines the progress

val = 0
reverse = false

fn = ->
  if reverse
    val -= 0.1
  else
    val += 0.1
  if val >= 1
    reverse = true
    val = 1
  else if val <= 0
    reverse = false
    val = 0
  progressbar2.value(val)
  progressbar4.value(val)

  seg1Val = val * 0.6 + 0.2
  seg2Val = val * 0.4 + 0.1
  segs = [
    {
      "class": 'hx-warning'
      value: seg1Val
    }
    {
      "class": 'hx-positive'
      value: seg2Val
    }
  ]
  progressbar5.segments(segs, true)

setInterval fn, 500
fn()</div><div class="docs-example-code-body"><div class="example-code-section"><h3>HTML</h3><div class="qm-code-highlight-codeblock language-html"><pre><code class="qm-code-font"><span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Percentage Value Based<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-multi-1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-multi-2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Ratio Based<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-multi-3"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-multi-4"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>Dynamic Segment Size<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"progressbar-multi-5"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre></div></div><div class="example-code-section"><h3>CoffeeScript</h3><div class="qm-code-highlight-codeblock language-coffee"><pre><code class="qm-code-font">
<span class="hljs-comment"># Segments will be sorted by value</span>
percentageSegments = [
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-positive'</span>
    <span class="hljs-string">"value"</span>: <span class="hljs-number">0.2</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-warning'</span>
    <span class="hljs-string">"value"</span>: <span class="hljs-number">0.3</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-negative'</span>
    <span class="hljs-string">"value"</span>: <span class="hljs-number">0.7</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-info'</span>
    <span class="hljs-string">"value"</span>: <span class="hljs-number">1</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-action'</span>
    <span class="hljs-string">"value"</span>: <span class="hljs-number">0.1</span>
  }
]


<span class="hljs-comment"># Ratio value defaults to 1. Segments are not sorted.</span>
ratioSegments = [
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-action'</span>
    <span class="hljs-string">"ratio"</span>: <span class="hljs-number">1</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-positive'</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-warning'</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-negative'</span>
  }
  {
    <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-info'</span>
    <span class="hljs-string">"ratio"</span>: <span class="hljs-number">4</span>
  }
]

progressbar1 = <span class="hljs-keyword">new</span> hx.ProgressBar <span class="hljs-string">'#progressbar-multi-1'</span>, {segments: percentageSegments, value: <span class="hljs-number">1</span>}
progressbar2 = <span class="hljs-keyword">new</span> hx.ProgressBar <span class="hljs-string">'#progressbar-multi-2'</span>, {segments: percentageSegments, animate: <span class="hljs-literal">true</span>}

progressbar3 = <span class="hljs-keyword">new</span> hx.ProgressBar <span class="hljs-string">'#progressbar-multi-3'</span>, {segments: ratioSegments, value: <span class="hljs-number">1</span>}
progressbar4 = <span class="hljs-keyword">new</span> hx.ProgressBar <span class="hljs-string">'#progressbar-multi-4'</span>, {segments: ratioSegments}

progressbar5 = <span class="hljs-keyword">new</span> hx.ProgressBar <span class="hljs-string">'#progressbar-multi-5'</span>, {value: <span class="hljs-number">1</span>}
progressbar5.value(<span class="hljs-number">1</span>) <span class="hljs-comment"># Set to 1 as the max bar size determines the progress</span>

val = <span class="hljs-number">0</span>
reverse = <span class="hljs-literal">false</span>
<span class="hljs-function">
<span class="hljs-title">fn</span> = -&gt;</span>
  <span class="hljs-keyword">if</span> reverse
    val -= <span class="hljs-number">0.1</span>
  <span class="hljs-keyword">else</span>
    val += <span class="hljs-number">0.1</span>
  <span class="hljs-keyword">if</span> val &gt;= <span class="hljs-number">1</span>
    reverse = <span class="hljs-literal">true</span>
    val = <span class="hljs-number">1</span>
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> val &lt;= <span class="hljs-number">0</span>
    reverse = <span class="hljs-literal">false</span>
    val = <span class="hljs-number">0</span>
  progressbar2.value(val)
  progressbar4.value(val)

  seg1Val = val * <span class="hljs-number">0.6</span> + <span class="hljs-number">0.2</span>
  seg2Val = val * <span class="hljs-number">0.4</span> + <span class="hljs-number">0.1</span>
  segs = [
    {
      <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-warning'</span>
      value: seg1Val
    }
    {
      <span class="hljs-string">"class"</span>: <span class="hljs-string">'hx-positive'</span>
      value: seg2Val
    }
  ]
  progressbar5.segments(segs, <span class="hljs-literal">true</span>)

setInterval fn, <span class="hljs-number">500</span>
fn()</code></pre></div></div></div></div></body></html>